<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>KukaLBRiiwaVrepPlugin.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_1197876a19540712f3e74c4694e02d2d.html">grl</a></li><li class="navelem"><a class="el" href="dir_9c0f98a6e9a67e7f016b366d76e8e53e.html">vrep</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">KukaLBRiiwaVrepPlugin.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="KukaLBRiiwaVrepPlugin_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef KUKA_VREP_PLUGIN_HPP_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define KUKA_VREP_PLUGIN_HPP_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;boost/log/trivial.hpp&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;boost/exception/all.hpp&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;boost/algorithm/string.hpp&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="KukaDriver_8hpp.html">grl/kuka/KukaDriver.hpp</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Vrep_8hpp.html">grl/vrep/Vrep.hpp</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VrepRobotArmDriver_8hpp.html">grl/vrep/VrepRobotArmDriver.hpp</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v__repLib_8h.html">v_repLib.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/// @todo move elsewhere, because it will conflict with others&#39; implementations of outputting vectors</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="KukaLBRiiwaVrepPlugin_8hpp.html#a919c17d39ba93de24c5b492672fb775a">   20</a></span>&#160;<span class="keyword">inline</span> boost::log::formatting_ostream&amp; operator&lt;&lt;(boost::log::formatting_ostream&amp; out,  std::vector&lt;T&gt;&amp; v)</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    out &lt;&lt; <span class="stringliteral">&quot;[&quot;</span>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordtype">size_t</span> last = v.size() - 1;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; v.size(); ++i) {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        out &lt;&lt; v[i];</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">if</span> (i != last) </div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            out &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    out &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> out;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacegrl.html">grl</a> { <span class="keyword">namespace </span>vrep {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// Creates a complete vrep plugin object</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// usage:</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// @code</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">///    auto kukaPluginPG = std::make_shared&lt;grl::KukaVrepPlugin&gt;();</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">///    kukaPluginPG-&gt;construct();</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">///    while(true) kukaPluginPG-&gt;run_one();</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">/// @endcode</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// @todo this implementation is a bit hacky, redesign it</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// @todo separate out grl specific code from general kuka control code</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/// @todo Template on robot driver and create a driver that just reads/writes to/from the simulation, then pass the two templates so the simulation and the real driver can be selected.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html">   50</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html">KukaVrepPlugin</a> : <span class="keyword">public</span> std::enable_shared_from_this&lt;KukaVrepPlugin&gt; {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31c">   53</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31c">ParamIndex</a> {</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cafde201e8c797f3dae057b3307a5aaa68">   54</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cafde201e8c797f3dae057b3307a5aaa68">JointNames</a>,</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cabf5eb34ae5b55638f89e9027f666a884">   55</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cabf5eb34ae5b55638f89e9027f666a884">RobotFlangeTipName</a>,</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4881e227b93ebad9e46e07fdda17509a">   56</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4881e227b93ebad9e46e07fdda17509a">RobotTipName</a>,</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca7ab2b3195ab21b67ebc03524c620a788">   57</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca7ab2b3195ab21b67ebc03524c620a788">RobotTargetName</a>,</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caa3dc112b9223f0c9bcd1bef022e14d67">   58</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caa3dc112b9223f0c9bcd1bef022e14d67">RobotTargetBaseName</a>,</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2579f0b3fadacaace38a02022b654dbd">   59</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2579f0b3fadacaace38a02022b654dbd">RobotModel</a>,</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca550a3de5c4400aef5624a3d87d16df5e">   60</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca550a3de5c4400aef5624a3d87d16df5e">LocalUDPAddress</a>,</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2b194b73cf99bb4940b3dad0e3ea83a7">   61</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2b194b73cf99bb4940b3dad0e3ea83a7">LocalUDPPort</a>,</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caea51b22a81db3475f559982d03a84c47">   62</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caea51b22a81db3475f559982d03a84c47">RemoteUDPAddress</a>,</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab6782e2b2e5906fbabce0c6cd67e24a4">   63</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab6782e2b2e5906fbabce0c6cd67e24a4">LocalHostKukaKoniUDPAddress</a>,</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cad496087874db30c9b9b1a714b24b119c">   64</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cad496087874db30c9b9b1a714b24b119c">LocalHostKukaKoniUDPPort</a>,</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca808c290e3ba1bc9f0d40803c46a51230">   65</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca808c290e3ba1bc9f0d40803c46a51230">RemoteHostKukaKoniUDPAddress</a>,</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab82a902c5a6f8531a6d5af457df51b15">   66</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab82a902c5a6f8531a6d5af457df51b15">RemoteHostKukaKoniUDPPort</a>,</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae15a16cf4c0a4d12c22afe52b1ad4af4">   67</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae15a16cf4c0a4d12c22afe52b1ad4af4">KukaCommandMode</a>,</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4be65e88781cfcf58c59897ab6acb479">   68</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4be65e88781cfcf58c59897ab6acb479">KukaMonitorMode</a>,</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae02910066fe3bc222e1a41b56e922590">   69</a></span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae02910066fe3bc222e1a41b56e922590">IKGroupName</a></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    };</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    </div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">typedef</span> std::tuple&lt;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        std::vector&lt;std::string&gt;,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        std::string,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        std::string,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        std::string,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        std::string,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        std::string,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        std::string,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        std::string,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        std::string,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        std::string,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        std::string,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        std::string,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        std::string,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        std::string,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        std::string,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        std::string</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">   89</a></span>&#160;        &gt; <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a067d6b528fb5d5b56d1868dea36b4be2">   92</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a067d6b528fb5d5b56d1868dea36b4be2">defaultParams</a>(){</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        std::vector&lt;std::string&gt; jointHandles;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint1&quot;</span>); <span class="comment">// Joint1Handle,</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint2&quot;</span>); <span class="comment">// Joint2Handle,</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint3&quot;</span>); <span class="comment">// Joint3Handle,</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint4&quot;</span>); <span class="comment">// Joint4Handle,</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint5&quot;</span>); <span class="comment">// Joint5Handle,</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint6&quot;</span>); <span class="comment">// Joint6Handle,</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint7&quot;</span>); <span class="comment">// Joint7Handle,</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> std::make_tuple(</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    jointHandles              , <span class="comment">// JointHandles,</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    <span class="stringliteral">&quot;RobotFlangeTip&quot;</span>          , <span class="comment">// RobotFlangeTipHandle,</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <span class="stringliteral">&quot;RobotMillTip&quot;</span>            , <span class="comment">// RobotTipHandle,</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <span class="stringliteral">&quot;RobotMillTipTarget&quot;</span>      , <span class="comment">// RobotTargetHandle,</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    <span class="stringliteral">&quot;Robotiiwa&quot;</span>               , <span class="comment">// RobotTargetBaseHandle,</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <span class="stringliteral">&quot;KUKA_LBR_IIWA_14_R820&quot;</span>   , <span class="comment">// RobotModel (options are KUKA_LBR_IIWA_14_R820, KUKA_LBR_IIWA_7_R800)</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    <span class="stringliteral">&quot;tcp://0.0.0.0&quot;</span>           , <span class="comment">// LocalUDPAddress</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <span class="stringliteral">&quot;30010&quot;</span>                   , <span class="comment">// LocalUDPPort</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="stringliteral">&quot;172.31.1.147&quot;</span>            , <span class="comment">// RemoteUDPAddress</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="stringliteral">&quot;192.170.10.100&quot;</span>          , <span class="comment">// LocalHostKukaKoniUDPAddress,</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <span class="stringliteral">&quot;30200&quot;</span>                   , <span class="comment">// LocalHostKukaKoniUDPPort,</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    <span class="stringliteral">&quot;192.170.10.2&quot;</span>            , <span class="comment">// RemoteHostKukaKoniUDPAddress,</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    <span class="stringliteral">&quot;30200&quot;</span>                   , <span class="comment">// RemoteHostKukaKoniUDPPort</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="stringliteral">&quot;JAVA&quot;</span>                    , <span class="comment">// KukaCommandMode (options are FRI, JAVA)</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="stringliteral">&quot;FRI&quot;</span>                     , <span class="comment">// KukaMonitorMode (options are FRI, JAVA)</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="stringliteral">&quot;IK_Group1_iiwa&quot;</span>            <span class="comment">// IKGroupName</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                );</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">    /// @todo measuredArmParams are hardcoded, parameterize them</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span>    <span class="comment">// parameters for measured arm</span></div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a1f56f1d8e9afb6a78340abcaeff814bb">  124</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a1f56f1d8e9afb6a78340abcaeff814bb">measuredArmParams</a>(){</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        std::vector&lt;std::string&gt; jointHandles;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        </div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint1#0&quot;</span>); <span class="comment">// Joint1Handle,</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint2#0&quot;</span>); <span class="comment">// Joint2Handle,</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint3#0&quot;</span>); <span class="comment">// Joint3Handle,</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint4#0&quot;</span>); <span class="comment">// Joint4Handle,</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint5#0&quot;</span>); <span class="comment">// Joint5Handle,</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint6#0&quot;</span>); <span class="comment">// Joint6Handle,</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        jointHandles.push_back(<span class="stringliteral">&quot;LBR_iiwa_14_R820_joint7#0&quot;</span>); <span class="comment">// Joint7Handle,</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> std::make_tuple(</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    jointHandles              , <span class="comment">// JointHandles,</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="stringliteral">&quot;RobotFlangeTip#0&quot;</span>    , <span class="comment">// RobotFlangeTipHandle,</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="stringliteral">&quot;RobotMillTip#0&quot;</span>          , <span class="comment">// RobotTipHandle,</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="stringliteral">&quot;RobotMillTipTarget#0&quot;</span>    , <span class="comment">// RobotTargetHandle,</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    <span class="stringliteral">&quot;Robotiiwa#0&quot;</span>             , <span class="comment">// RobotTargetBaseHandle,</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    <span class="stringliteral">&quot;KUKA_LBR_IIWA_14_R820&quot;</span>   , <span class="comment">// RobotModel (options are KUKA_LBR_IIWA_14_R820, KUKA_LBR_IIWA_7_R800)</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="stringliteral">&quot;tcp://0.0.0.0&quot;</span>           , <span class="comment">// LocalUDPAddress</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="stringliteral">&quot;30010&quot;</span>                   , <span class="comment">// LocalUDPPort</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    <span class="stringliteral">&quot;172.31.1.147&quot;</span>            , <span class="comment">// RemoteUDPAddress</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    <span class="stringliteral">&quot;192.170.10.100&quot;</span>          , <span class="comment">// LocalHostKukaKoniUDPAddress,</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    <span class="stringliteral">&quot;30200&quot;</span>                   , <span class="comment">// LocalHostKukaKoniUDPPort,</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="stringliteral">&quot;192.170.10.2&quot;</span>            , <span class="comment">// RemoteHostKukaKoniUDPAddress,</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    <span class="stringliteral">&quot;30200&quot;</span>                   , <span class="comment">// RemoteHostKukaKoniUDPPort</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <span class="stringliteral">&quot;JAVA&quot;</span>                    , <span class="comment">// KukaCommandMode (options are FRI, JAVA)</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    <span class="stringliteral">&quot;FRI&quot;</span>                     , <span class="comment">// KukaMonitorMode (options are FRI, JAVA)</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    <span class="stringliteral">&quot;IK_Group1_iiwa#0&quot;</span>            <span class="comment">// IKGroupName</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">/// @todo allow KukaFRIThreadSeparator parameters to be updated</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">/// @param params a tuple containing all of the parameter strings needed to configure the device.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/// The KukaCommandMode parameters supports the options &quot;FRI&quot; and &quot;JAVA&quot;. This configures how commands will</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// be sent to the arm itself. &quot;FRI&quot; mode is via a direct &quot;Fast Robot Interface&quot; &quot;KUKA KONI&quot;</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/// ethernet connection which provides substantially higher performance and response time,</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">///  but is extremely sensitive to delays, and any delay will halt the robot and require a manual reset.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">///  &quot;JAVA&quot; mode sends the command to the Java application installed on the KUKA robot, which then submits</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">///  it to the arm itself to execute. This is a much more forgiving mode of communication, but it is subject to delays.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">/// @todo read ms_per_tick from the java interface</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a413dd85a768e45b2e5d07601f07be4a0">  170</a></span>&#160;<span class="comment"></span><a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a413dd85a768e45b2e5d07601f07be4a0">KukaVrepPlugin</a> (<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> params = <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a067d6b528fb5d5b56d1868dea36b4be2">defaultParams</a>())</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      :</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      params_(params)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ad09929cc392fa611ef8663160ec6aa68">  176</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ad09929cc392fa611ef8663160ec6aa68">construct</a>(){<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ad09929cc392fa611ef8663160ec6aa68">construct</a>(params_);}</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/// construct() function completes initialization of the plugin</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/// @todo move this into the actual constructor, but need to correctly handle or attach vrep shared libraries for unit tests.</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a65fd0da3286658aa5ca091a36d1572fd">  180</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a65fd0da3286658aa5ca091a36d1572fd">construct</a>(<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> params){</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  params_ = params;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">// keep driver threads from exiting immediately after creation, because they have work to do!</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  device_driver_workP_.reset(<span class="keyword">new</span> boost::asio::io_service::work(device_driver_io_service));</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  kukaDriverP_=std::make_shared&lt;robot::arm::KukaDriver&gt;(std::make_tuple(</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        std::get&lt;RobotTargetBaseName&gt;(params),</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        std::get&lt;RobotModel&gt;(params),</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        std::get&lt;LocalUDPAddress&gt;(params),</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        std::get&lt;LocalUDPPort&gt;(params),</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        std::get&lt;RemoteUDPAddress&gt;(params),</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        std::get&lt;LocalHostKukaKoniUDPAddress&gt;(params),</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        std::get&lt;LocalHostKukaKoniUDPPort&gt;(params),</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        std::get&lt;RemoteHostKukaKoniUDPAddress&gt;(params),</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        std::get&lt;RemoteHostKukaKoniUDPPort&gt;(params),</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        std::get&lt;KukaCommandMode&gt;(params),</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        std::get&lt;KukaMonitorMode&gt;(params)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        </div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  ));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  kukaDriverP_-&gt;construct();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  kukaDriverP_-&gt;set(<a class="code" href="namespacegrl_1_1flatbuffer.html#a9138492aa6b8fbd668373c5eed4df813a6aaa933de1a6beede70f57134252ae88">flatbuffer::ArmState::ArmState_MoveArmJointServo</a>);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;KUKA COMMAND MODE: &quot;</span> &lt;&lt; std::get&lt;KukaCommandMode&gt;(params) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  initHandles();</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#af14aab4618d7896cf0cd1741ad0a4f26">  207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#af14aab4618d7896cf0cd1741ad0a4f26">run_one</a>(){</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span>(!allHandlesSet) BOOST_THROW_EXCEPTION(std::runtime_error(<span class="stringliteral">&quot;KukaVrepPlugin: Handles have not been initialized, cannot run updates.&quot;</span>));</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  getRealKukaAngles();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">bool</span> isError = getStateFromVrep(); <span class="comment">// true if there is an error</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  allHandlesSet = !isError;<span class="comment"></span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  /// @todo re-enable simulation feedback based on actual kuka state</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span>  syncVrepAndKuka();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ac91cbda5e55ae2b2e43f46ea6e64e887">  218</a></span>&#160;<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ac91cbda5e55ae2b2e43f46ea6e64e887">~KukaVrepPlugin</a>(){</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    device_driver_workP_.reset();</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    </div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span>(driver_threadP){</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      device_driver_io_service.stop();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      driver_threadP-&gt;join();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keywordtype">void</span> initHandles() {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    vrepRobotArmDriverP_ = std::make_shared&lt;VrepRobotArmDriver&gt;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    (</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        std::make_tuple(</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            std::get&lt;JointNames&gt;             (params_),</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            std::get&lt;RobotFlangeTipName&gt;     (params_),</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            std::get&lt;RobotTipName&gt;           (params_),</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            std::get&lt;RobotTargetName&gt;        (params_),</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            std::get&lt;RobotTargetBaseName&gt;    (params_),</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            std::get&lt;IKGroupName&gt;            (params_)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        )</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    );</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    </div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    vrepRobotArmDriverP_-&gt;construct();</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    </div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    measuredParams_ = <a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a1f56f1d8e9afb6a78340abcaeff814bb">measuredArmParams</a>();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    vrepMeasuredRobotArmDriverP_ = std::make_shared&lt;VrepRobotArmDriver&gt;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    (</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        std::make_tuple(</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            std::get&lt;JointNames&gt;             (measuredParams_),</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            std::get&lt;RobotFlangeTipName&gt;     (measuredParams_),</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            std::get&lt;RobotTipName&gt;           (measuredParams_),</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            std::get&lt;RobotTargetName&gt;        (measuredParams_),</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            std::get&lt;RobotTargetBaseName&gt;    (measuredParams_),</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            std::get&lt;IKGroupName&gt;            (measuredParams_)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        )</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    );</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    vrepMeasuredRobotArmDriverP_-&gt;construct();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    </div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    /// @todo remove this assumption</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span>    allHandlesSet  = <span class="keyword">true</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keywordtype">void</span> getRealKukaAngles() {<span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">      /// @todo m_haveReceivedRealData = true is a DANGEROUS HACK!!!! REMOVE ME AFTER DEBUGGING</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"></span>      m_haveReceivedRealData = <span class="keyword">true</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordtype">void</span> syncVrepAndKuka(){</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span>(!allHandlesSet || !m_haveReceivedRealData) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment"></span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">        /// @todo make this handled by template driver implementations/extensions</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span>        kukaDriverP_-&gt;set(simulationTimeStep_,<a class="code" href="structgrl_1_1time__duration__command__tag.html">time_duration_command_tag</a>());</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        kukaDriverP_-&gt;set( simJointPosition, <a class="code" href="structgrl_1_1revolute__joint__angle__open__chain__command__tag.html">grl::revolute_joint_angle_open_chain_command_tag</a>());</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span>(0) kukaDriverP_-&gt;set( simJointForce   , <a class="code" href="structgrl_1_1revolute__joint__torque__open__chain__command__tag.html">grl::revolute_joint_torque_open_chain_command_tag</a>());</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    </div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        kukaDriverP_-&gt;run_one();</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="comment">// We have the real kuka state read from the device now</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">// update real joint angle data</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        realJointPosition.clear();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        kukaDriverP_-&gt;get(std::back_inserter(realJointPosition), <a class="code" href="structgrl_1_1revolute__joint__angle__open__chain__state__tag.html">grl::revolute_joint_angle_open_chain_state_tag</a>());</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        </div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        realJointForce.clear();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        kukaDriverP_-&gt;get(std::back_inserter(realJointForce), <a class="code" href="structgrl_1_1revolute__joint__torque__open__chain__state__tag.html">grl::revolute_joint_torque_open_chain_state_tag</a>());</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    </div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        realExternalJointTorque.clear();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        kukaDriverP_-&gt;get(std::back_inserter(realExternalJointTorque), <a class="code" href="structgrl_1_1revolute__joint__torque__external__open__chain__state__tag.html">grl::revolute_joint_torque_external_open_chain_state_tag</a>());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        realExternalForce.clear();</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        kukaDriverP_-&gt;get(std::back_inserter(realExternalForce), <a class="code" href="structgrl_1_1cartesian__external__force__tag.html">grl::cartesian_external_force_tag</a>());</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    </div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span>(0){</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">// debug output</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Measured Torque: &quot;</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        std::cout &lt;&lt; std::setw(6);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">float</span> t:realJointForce) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            std::cout &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        </div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;External Torque: &quot;</span>;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        std::cout &lt;&lt; std::setw(6);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">float</span> t:realExternalJointTorque) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            std::cout &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        </div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Measured Position: &quot;</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">float</span> t:realJointPosition) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            std::cout &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        std::cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    </div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span>(!allHandlesSet || !vrepMeasuredRobotArmDriverP_) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    </div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (realJointPosition.size() &gt; 0) { <span class="comment">// if there are valid measured states</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="classgrl_1_1vrep_1_1VrepRobotArmDriver.html#a088e810954324736680fadf5b3e469c6">VrepRobotArmDriver::State</a> measuredArmState;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        std::get&lt;VrepRobotArmDriver::JointPosition&gt;(measuredArmState) = realJointPosition;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        std::get&lt;VrepRobotArmDriver::JointForce&gt;(measuredArmState) = realJointForce;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        std::get&lt;VrepRobotArmDriver::ExternalTorque&gt;(measuredArmState) = realExternalJointTorque;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        </div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        vrepMeasuredRobotArmDriverP_-&gt;setState(measuredArmState);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    </div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/// @todo if there aren&#39;t real limits set via the kuka model already then implement me</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> setArmLimits(){</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="comment">//simSetJointInterval(simInt objectHandle,simBool cyclic,const simFloat* interval); //Sets the interval parameters of a joint (i.e. range values)</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="comment">//simSetJointMode(simInt jointHandle,simInt jointMode,simInt options); //Sets the operation mode of a joint. Might have as side-effect the change of additional properties of the joint</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">/// @return isError - true if there is an error, false if there is no Error</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> getStateFromVrep(){</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span>(!allHandlesSet || !vrepRobotArmDriverP_) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            </div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <a class="code" href="classgrl_1_1vrep_1_1VrepRobotArmDriver.html#a088e810954324736680fadf5b3e469c6">VrepRobotArmDriver::State</a> armState;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    </div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordtype">bool</span> isError = vrepRobotArmDriverP_-&gt;getState(armState);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    </div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span>(isError) <span class="keywordflow">return</span> isError;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            simJointPosition             = std::get&lt;VrepRobotArmDriver::JointPosition&gt;      (armState);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            simJointForce                = std::get&lt;VrepRobotArmDriver::JointForce&gt;         (armState);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            simJointTargetPosition       = std::get&lt;VrepRobotArmDriver::JointTargetPosition&gt;(armState);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            simJointTransformationMatrix = std::get&lt;VrepRobotArmDriver::JointMatrix&gt;        (armState);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    </div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">            /// need to provide tick time in double seconds and get from vrep API call</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"></span>            simulationTimeStep_ = <a class="code" href="v__repLib_8h.html#a66e0962cc12e986f19b19d9404a8c0a3">simGetSimulationTimeStep</a>()*1000;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    </div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//          for (int i=0 ; i &lt; KUKA::LBRState::NUM_DOF ; i++)</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">//          {   </span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">//              simGetJointPosition(jointHandle[i],&amp;simJointPosition[i]);  //retrieves the intrinsic position of a joint (Angle for revolute joint)</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//              simGetJointForce(jointHandle[i],&amp;simJointForce[i]); //retrieves the force or torque applied to a joint along/about its active axis. This function retrieves meaningful information only if the joint is prismatic or revolute, and is dynamically enabled. </span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//              simGetJointTargetPosition(jointHandle[i],&amp;simJointTargetPosition[i]);  //retrieves the target position of a joint</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">//              simGetJointMatrix(jointHandle[i],&amp;simJointTransformationMatrix[i]);   //retrieves the intrinsic transformation matrix of a joint (the transformation caused by the joint movement)</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//          }</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">//            </span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">//          BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simJointPostition = &quot; &lt;&lt; simJointPosition &lt;&lt; std::endl;</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">//          BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simJointForce = &quot; &lt;&lt; simJointForce &lt;&lt; std::endl;</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">//          BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simJointTargetPostition = &quot; &lt;&lt; simJointTargetPosition &lt;&lt; std::endl;</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">//          BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simJointTransformationMatrix = &quot; &lt;&lt; simJointTransformationMatrix &lt;&lt; std::endl;</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">//          </span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">//          float simTipPosition[3];</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">//          float simTipOrientation[3];</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">//          simGetObjectPosition(target, targetBase, simTipPosition);</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">//          simGetObjectOrientation(target, targetBase, simTipOrientation);</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">//          </span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">//          for (int i = 0 ; i &lt; 3 ; i++)</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">//          {</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">//              BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simTipPosition[&quot; &lt;&lt; i &lt;&lt; &quot;] = &quot; &lt;&lt; simTipPosition[i] &lt;&lt; std::endl;</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">//              BOOST_LOG_TRIVIAL(info) &lt;&lt; &quot;simTipOrientation[&quot; &lt;&lt; i &lt;&lt;  &quot;] = &quot; &lt;&lt; simTipOrientation[i] &lt;&lt; std::endl;</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">//          }</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// Send updated position to the real arm based on simulation</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/// @todo reenable this component</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> updateVrepFromKuka() {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="comment">// Step 1</span><span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">            ////////////////////////////////////////////////////</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span>            <span class="comment">// call the functions here and just print joint angles out</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="comment">// or display something on the screens</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">            ///////////////////</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span>            <span class="comment">// call our object to get the latest real kuka state</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="comment">// then use the functions below to set the simulation state</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="comment">// to match</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">            /////////////////// assuming given real joint position (angles), forces, target position and target velocity </span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// setting the simulation variables to data from real robot (here they have been assumed given)</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0 ; i &lt; 7 ; i++)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="comment">//simSetJointPosition(jointHandle[i],realJointPosition[i]); //Sets the intrinsic position of a joint. May have no effect depending on the joint mode</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            </div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            </div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="comment">//simSetJointTargetPosition(jointHandle[i],realJointTargetPosition[i]);  //Sets the target position of a joint if the joint is in torque/force mode (also make sure that the joint&#39;s motor and position control are enabled</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            </div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="comment">//simSetJointForce(jointHandle[i],realJointForce[i]);  //Sets the maximum force or torque that a joint can exert. This function has no effect when the joint is not dynamically enabled</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            </div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            </div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="comment">//simSetJointTargetVelocity(jointHandle[i],realJointTargetVelocity[i]);  //Sets the intrinsic target velocity of a non-spherical joint. This command makes only sense when the joint mode is: (a) motion mode: the joint&#39;s motion handling feature must be enabled (simHandleJoint must be called (is called by default in the main script), and the joint motion properties must be set in the joint settings dialog), (b) torque/force mode: the dynamics functionality and the joint motor have to be enabled (position control should however be disabled)</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">bool</span> allHandlesSet = <span class="keyword">false</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">bool</span> m_haveReceivedRealData = <span class="keyword">false</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="keywordtype">double</span> simulationTimeStep_; <span class="comment">// ms</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;boost::asio::io_service device_driver_io_service;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;std::unique_ptr&lt;boost::asio::io_service::work&gt; device_driver_workP_;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;std::unique_ptr&lt;std::thread&gt; driver_threadP;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;std::shared_ptr&lt;grl::robot::arm::KukaDriver&gt; kukaDriverP_;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;std::shared_ptr&lt;VrepRobotArmDriver&gt; vrepRobotArmDriverP_;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;std::shared_ptr&lt;VrepRobotArmDriver&gt; vrepMeasuredRobotArmDriverP_;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">//boost::asio::deadline_timer sendToJavaDelay;</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">/// @todo replace all these simJoint elements with simple VrepRobotArmDriver::State</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"></span>std::vector&lt;float&gt; simJointPosition = {0.0,0.0,0.0,0.0,0.0,0.0,0.0};</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">// std::vector&lt;float&gt; simJointVelocity = {0.0,0.0,0.0,0.0,0.0,0.0,0.0}; no velocity yet</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;std::vector&lt;float&gt; simJointForce = {0.0,0.0,0.0,0.0,0.0,0.0,0.0};</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;std::vector&lt;float&gt; simJointTargetPosition = {0.0,0.0,0.0,0.0,0.0,0.0,0.0};</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<a class="code" href="classgrl_1_1vrep_1_1VrepRobotArmDriver.html#a0ad50767c41bed92da43a224485152f9">VrepRobotArmDriver::TransformationMatrices</a> simJointTransformationMatrix;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">/// @note loss of precision! kuka sends double values, if you write custom code don&#39;t use these float values. Vrep uses floats internally which is why they are used here.</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"></span>std::vector&lt;float&gt; realJointPosition        = { 0, 0, 0, 0, 0, 0, 0 };</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">// does not exist</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">// std::vector&lt;float&gt; realJointTargetPosition  = { 0, 0, 0, 0, 0, 0, 0 };</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;std::vector&lt;float&gt; realJointForce           = { 0, 0, 0, 0, 0, 0, 0 };</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">// does not exist yet</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">//std::vector&lt;float&gt; realJointTargetVelocity  = { 0, 0, 0, 0, 0, 0, 0 };</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;std::vector&lt;float&gt; realExternalJointTorque  = { 0, 0, 0, 0, 0, 0, 0};</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;std::vector&lt;float&gt; realExternalForce = { 0, 0, 0, 0, 0, 0};</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> params_;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<a class="code" href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">Params</a> measuredParams_;<span class="comment"></span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/// for use in FRI clientdata mode</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span>std::shared_ptr&lt;KUKA::FRI::ClientData&gt; friData_;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;};</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  </div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}} <span class="comment">// grl::vrep</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a65fd0da3286658aa5ca091a36d1572fd"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a65fd0da3286658aa5ca091a36d1572fd">grl::vrep::KukaVrepPlugin::construct</a></div><div class="ttdeci">void construct(Params params)</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00180">KukaLBRiiwaVrepPlugin.hpp:180</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cabf5eb34ae5b55638f89e9027f666a884"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cabf5eb34ae5b55638f89e9027f666a884">grl::vrep::KukaVrepPlugin::RobotFlangeTipName</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00055">KukaLBRiiwaVrepPlugin.hpp:55</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cafde201e8c797f3dae057b3307a5aaa68"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cafde201e8c797f3dae057b3307a5aaa68">grl::vrep::KukaVrepPlugin::JointNames</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00054">KukaLBRiiwaVrepPlugin.hpp:54</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cae02910066fe3bc222e1a41b56e922590"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae02910066fe3bc222e1a41b56e922590">grl::vrep::KukaVrepPlugin::IKGroupName</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00069">KukaLBRiiwaVrepPlugin.hpp:69</a></div></div>
<div class="ttc" id="Vrep_8hpp_html"><div class="ttname"><a href="Vrep_8hpp.html">Vrep.hpp</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca4881e227b93ebad9e46e07fdda17509a"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4881e227b93ebad9e46e07fdda17509a">grl::vrep::KukaVrepPlugin::RobotTipName</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00056">KukaLBRiiwaVrepPlugin.hpp:56</a></div></div>
<div class="ttc" id="structgrl_1_1revolute__joint__torque__open__chain__command__tag_html"><div class="ttname"><a href="structgrl_1_1revolute__joint__torque__open__chain__command__tag.html">grl::revolute_joint_torque_open_chain_command_tag</a></div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00077">tags.hpp:77</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca550a3de5c4400aef5624a3d87d16df5e"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca550a3de5c4400aef5624a3d87d16df5e">grl::vrep::KukaVrepPlugin::LocalUDPAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00060">KukaLBRiiwaVrepPlugin.hpp:60</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cad496087874db30c9b9b1a714b24b119c"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cad496087874db30c9b9b1a714b24b119c">grl::vrep::KukaVrepPlugin::LocalHostKukaKoniUDPPort</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00064">KukaLBRiiwaVrepPlugin.hpp:64</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_ad09929cc392fa611ef8663160ec6aa68"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ad09929cc392fa611ef8663160ec6aa68">grl::vrep::KukaVrepPlugin::construct</a></div><div class="ttdeci">void construct()</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00176">KukaLBRiiwaVrepPlugin.hpp:176</a></div></div>
<div class="ttc" id="v__repLib_8h_html"><div class="ttname"><a href="v__repLib_8h.html">v_repLib.h</a></div></div>
<div class="ttc" id="structgrl_1_1revolute__joint__angle__open__chain__state__tag_html"><div class="ttname"><a href="structgrl_1_1revolute__joint__angle__open__chain__state__tag.html">grl::revolute_joint_angle_open_chain_state_tag</a></div><div class="ttdoc">joint angle </div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00049">tags.hpp:49</a></div></div>
<div class="ttc" id="structgrl_1_1revolute__joint__torque__external__open__chain__state__tag_html"><div class="ttname"><a href="structgrl_1_1revolute__joint__torque__external__open__chain__state__tag.html">grl::revolute_joint_torque_external_open_chain_state_tag</a></div><div class="ttdoc">external joint torque, i.e. torques applied to an arm excluding those caused by the mass of the arm i...</div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00064">tags.hpp:64</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cab6782e2b2e5906fbabce0c6cd67e24a4"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab6782e2b2e5906fbabce0c6cd67e24a4">grl::vrep::KukaVrepPlugin::LocalHostKukaKoniUDPAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00063">KukaLBRiiwaVrepPlugin.hpp:63</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a1f56f1d8e9afb6a78340abcaeff814bb"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a1f56f1d8e9afb6a78340abcaeff814bb">grl::vrep::KukaVrepPlugin::measuredArmParams</a></div><div class="ttdeci">static const Params measuredArmParams()</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00124">KukaLBRiiwaVrepPlugin.hpp:124</a></div></div>
<div class="ttc" id="structgrl_1_1revolute__joint__angle__open__chain__command__tag_html"><div class="ttname"><a href="structgrl_1_1revolute__joint__angle__open__chain__command__tag.html">grl::revolute_joint_angle_open_chain_command_tag</a></div><div class="ttdoc">commanded joint angle </div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00076">tags.hpp:76</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca2579f0b3fadacaace38a02022b654dbd"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2579f0b3fadacaace38a02022b654dbd">grl::vrep::KukaVrepPlugin::RobotModel</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00059">KukaLBRiiwaVrepPlugin.hpp:59</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca4be65e88781cfcf58c59897ab6acb479"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca4be65e88781cfcf58c59897ab6acb479">grl::vrep::KukaVrepPlugin::KukaMonitorMode</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00068">KukaLBRiiwaVrepPlugin.hpp:68</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cab82a902c5a6f8531a6d5af457df51b15"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cab82a902c5a6f8531a6d5af457df51b15">grl::vrep::KukaVrepPlugin::RemoteHostKukaKoniUDPPort</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00066">KukaLBRiiwaVrepPlugin.hpp:66</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_af14aab4618d7896cf0cd1741ad0a4f26"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#af14aab4618d7896cf0cd1741ad0a4f26">grl::vrep::KukaVrepPlugin::run_one</a></div><div class="ttdeci">void run_one()</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00207">KukaLBRiiwaVrepPlugin.hpp:207</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a885ed436a4666f0946c1f03486581b4d"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a885ed436a4666f0946c1f03486581b4d">grl::vrep::KukaVrepPlugin::Params</a></div><div class="ttdeci">std::tuple&lt; std::vector&lt; std::string &gt;, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string, std::string &gt; Params</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00089">KukaLBRiiwaVrepPlugin.hpp:89</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31cae15a16cf4c0a4d12c22afe52b1ad4af4"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31cae15a16cf4c0a4d12c22afe52b1ad4af4">grl::vrep::KukaVrepPlugin::KukaCommandMode</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00067">KukaLBRiiwaVrepPlugin.hpp:67</a></div></div>
<div class="ttc" id="namespacegrl_html"><div class="ttname"><a href="namespacegrl.html">grl</a></div><div class="ttdef"><b>Definition:</b> <a href="ArmControlState__generated_8h_source.html#l00011">ArmControlState_generated.h:11</a></div></div>
<div class="ttc" id="structgrl_1_1time__duration__command__tag_html"><div class="ttname"><a href="structgrl_1_1time__duration__command__tag.html">grl::time_duration_command_tag</a></div><div class="ttdoc">the time duration over which a command should be completed </div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00073">tags.hpp:73</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31caa3dc112b9223f0c9bcd1bef022e14d67"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caa3dc112b9223f0c9bcd1bef022e14d67">grl::vrep::KukaVrepPlugin::RobotTargetBaseName</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00058">KukaLBRiiwaVrepPlugin.hpp:58</a></div></div>
<div class="ttc" id="structgrl_1_1revolute__joint__torque__open__chain__state__tag_html"><div class="ttname"><a href="structgrl_1_1revolute__joint__torque__open__chain__state__tag.html">grl::revolute_joint_torque_open_chain_state_tag</a></div><div class="ttdoc">joint torque </div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00061">tags.hpp:61</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca2b194b73cf99bb4940b3dad0e3ea83a7"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca2b194b73cf99bb4940b3dad0e3ea83a7">grl::vrep::KukaVrepPlugin::LocalUDPPort</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00061">KukaLBRiiwaVrepPlugin.hpp:61</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a067d6b528fb5d5b56d1868dea36b4be2"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a067d6b528fb5d5b56d1868dea36b4be2">grl::vrep::KukaVrepPlugin::defaultParams</a></div><div class="ttdeci">static const Params defaultParams()</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00092">KukaLBRiiwaVrepPlugin.hpp:92</a></div></div>
<div class="ttc" id="namespacegrl_1_1flatbuffer_html_a9138492aa6b8fbd668373c5eed4df813a6aaa933de1a6beede70f57134252ae88"><div class="ttname"><a href="namespacegrl_1_1flatbuffer.html#a9138492aa6b8fbd668373c5eed4df813a6aaa933de1a6beede70f57134252ae88">grl::flatbuffer::ArmState_MoveArmJointServo</a></div><div class="ttdef"><b>Definition:</b> <a href="ArmControlState__generated_8h_source.html#l00048">ArmControlState_generated.h:48</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_ac91cbda5e55ae2b2e43f46ea6e64e887"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#ac91cbda5e55ae2b2e43f46ea6e64e887">grl::vrep::KukaVrepPlugin::~KukaVrepPlugin</a></div><div class="ttdeci">~KukaVrepPlugin()</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00218">KukaLBRiiwaVrepPlugin.hpp:218</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1VrepRobotArmDriver_html_a0ad50767c41bed92da43a224485152f9"><div class="ttname"><a href="classgrl_1_1vrep_1_1VrepRobotArmDriver.html#a0ad50767c41bed92da43a224485152f9">grl::vrep::VrepRobotArmDriver::TransformationMatrices</a></div><div class="ttdeci">std::vector&lt; TransformationMatrix &gt; TransformationMatrices</div><div class="ttdef"><b>Definition:</b> <a href="VrepRobotArmDriver_8hpp_source.html#l00168">VrepRobotArmDriver.hpp:168</a></div></div>
<div class="ttc" id="structgrl_1_1cartesian__external__force__tag_html"><div class="ttname"><a href="structgrl_1_1cartesian__external__force__tag.html">grl::cartesian_external_force_tag</a></div><div class="ttdoc">external forces, i.e. forces applied to an arm excluding those caused by the mass of the arm itself a...</div><div class="ttdef"><b>Definition:</b> <a href="tags_8hpp_source.html#l00067">tags.hpp:67</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a413dd85a768e45b2e5d07601f07be4a0"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a413dd85a768e45b2e5d07601f07be4a0">grl::vrep::KukaVrepPlugin::KukaVrepPlugin</a></div><div class="ttdeci">KukaVrepPlugin(Params params=defaultParams())</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00170">KukaLBRiiwaVrepPlugin.hpp:170</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31caea51b22a81db3475f559982d03a84c47"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31caea51b22a81db3475f559982d03a84c47">grl::vrep::KukaVrepPlugin::RemoteUDPAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00062">KukaLBRiiwaVrepPlugin.hpp:62</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31c"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31c">grl::vrep::KukaVrepPlugin::ParamIndex</a></div><div class="ttdeci">ParamIndex</div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00053">KukaLBRiiwaVrepPlugin.hpp:53</a></div></div>
<div class="ttc" id="VrepRobotArmDriver_8hpp_html"><div class="ttname"><a href="VrepRobotArmDriver_8hpp.html">VrepRobotArmDriver.hpp</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html">grl::vrep::KukaVrepPlugin</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00050">KukaLBRiiwaVrepPlugin.hpp:50</a></div></div>
<div class="ttc" id="KukaDriver_8hpp_html"><div class="ttname"><a href="KukaDriver_8hpp.html">KukaDriver.hpp</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca7ab2b3195ab21b67ebc03524c620a788"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca7ab2b3195ab21b67ebc03524c620a788">grl::vrep::KukaVrepPlugin::RobotTargetName</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00057">KukaLBRiiwaVrepPlugin.hpp:57</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1VrepRobotArmDriver_html_a088e810954324736680fadf5b3e469c6"><div class="ttname"><a href="classgrl_1_1vrep_1_1VrepRobotArmDriver.html#a088e810954324736680fadf5b3e469c6">grl::vrep::VrepRobotArmDriver::State</a></div><div class="ttdeci">std::tuple&lt; JointScalar, JointScalar, JointScalar, JointScalar, JointScalar, TransformationMatrices, JointStateTag, JointScalar &gt; State</div><div class="ttdef"><b>Definition:</b> <a href="VrepRobotArmDriver_8hpp_source.html#l00180">VrepRobotArmDriver.hpp:180</a></div></div>
<div class="ttc" id="classgrl_1_1vrep_1_1KukaVrepPlugin_html_a36304ad45cb47b168a8ed62c0422f31ca808c290e3ba1bc9f0d40803c46a51230"><div class="ttname"><a href="classgrl_1_1vrep_1_1KukaVrepPlugin.html#a36304ad45cb47b168a8ed62c0422f31ca808c290e3ba1bc9f0d40803c46a51230">grl::vrep::KukaVrepPlugin::RemoteHostKukaKoniUDPAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="KukaLBRiiwaVrepPlugin_8hpp_source.html#l00065">KukaLBRiiwaVrepPlugin.hpp:65</a></div></div>
<div class="ttc" id="v__repLib_8h_html_a66e0962cc12e986f19b19d9404a8c0a3"><div class="ttname"><a href="v__repLib_8h.html#a66e0962cc12e986f19b19d9404a8c0a3">simGetSimulationTimeStep</a></div><div class="ttdeci">ptrSimGetSimulationTimeStep simGetSimulationTimeStep</div><div class="ttdef"><b>Definition:</b> <a href="v__repLib_8cpp_source.html#l00181">v_repLib.cpp:181</a></div></div>
</div><!-- fragment --></div><!-- contents -->

<div class="footer">
&copy; 2015-2016 Andrew Hundt et al. Last updated on Tue Nov 15 2016 22:24:08. Created using <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.12.
</div>
</body>
</html>
